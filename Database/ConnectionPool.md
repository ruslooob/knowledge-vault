Каждый запрос в бд - это накладные расходы на аутентификацию, открытие сокета, подключения, закрытия сокета и подключения. Паттерн Connection Pool позволяет решить эту проблему.
Connection Pool - паттерн, согласно которому достигается переиспользование подключений к базе данных.

Существуют несколько подходов к Connection Polling
Client-side connection pool - Происходит на стороне application. Приложение, которое обращается к бд имеет свой connection pool.
Server-side connection pool - Сама база данных имеет свой connection pool. Это достаточно редкое явление, т.к это не является основной задачей бд.
Middleware connection pool - Аналогично server-side connection pool, только здесь CP находится между БД и приложениями. Чаще всего этот механизм легче поддеерживать и тюнить, в отличии от server-side CP.

Сколько connection-ов должно быть в client-side CP?
Что нужно понимать, чтобы ответить на этот вопрос:
Какая нагрузка (в RPS) предполагается на этот сервер? Какой у нее характер (стабильный, взрывной, с пиками в определенное время). Среднее время одного обращения клиента? В идеальной ситуации твой CP должен выдержать максимальную ожидаемую нагружку и не стать узким местом в системе.

Сколько connection-ов должно быть в server-side/middleware CP?
Все плюс-минус тоже самое, только на уровне с бд. Сколько запросов в секунду может выдержать эта бд? Максимальный размер пула ставится в расчете на максимальное кол-во подключений в один момент времени.

Естественно, все что написано выше по поводу параметров это только начальная точка для выбора оптимального размера CP. Нужен мониторинг, который будет показывать, какое среднее время обращения к бд, при какой нагрузке она начинает тротлить. Нужно внимательно следить за метриками, чтобы вовремя среагировать на ненормальное поведение.

Примеры существующих CP
client side connection pool - hikari, agroal, vibur и т д
server-side - pgpool, pgbouncer, odissey

Источники:
- https://stackoverflow.blog/2020/10/14/improve-database-performance-with-connection-pooling/
- [DEV2-12. 07. Пул соединений. YouTube. PostgresProfessional](https://www.youtube.com/watch?v=r3jBnu-j_8E)